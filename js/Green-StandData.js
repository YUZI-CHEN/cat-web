const greenLineData = [
  {
    "id": "Songshan",
    "station": "松山站",
    "title": "Mahome畫畫咖啡廳",
    "time": "週一 ~ 週日：10:30 ~ 21:00、週五：9:00 ~ 21:00",
    "address": "台北市信義區松信路64號一樓",
    "tel": "09-83516868",
    "fb": "https://www.facebook.com/mahome.food/",
    "map": "https://maps.app.goo.gl/sVGFPkWhawNAkf9D9",
    "other": "店貓、狗、狐蒙",
    "tags": ["店貓"]
  },
  {
    "id": "Nanjing-Sanmin",
    "station": "南京三民站",
    "title": "小春日和動物雜貨·咖啡",
    "time": "週一 ~ 週日：11:00 ~ 21:00",
    "address": "台北市延壽街361號1樓 (民生社區)",
    "tel": "(02)8787-6920",
    "web": "https://www.springday.tw/?fbclid=Iw",
    "fb": "https://www.facebook.com/SpringDayPetShopCafe/",
    "map": "https://maps.app.goo.gl/ngbBZWmZYCde34bY7",
    "other": "寵物美容'、寵物友善、挪威、英短、品種貓",
    "tags": ["寵物友善餐廳", "品種貓"]
  },
  {
    "id": "Nanjing-Sanmin",
    "station": "南京三民站",
    "title": "和貓咪有約",
    "time": "週六:09:00~22:00、週日~周一:09:00~20:00、週二 ~ 週四：11:30 ~ 20:00、週五:11:30~22:00",
    "address": "台北市松山區三民路3巷21號",
    "tel": "(02)2528-1808",

    "fb": "https://www.facebook.com/profile.php?id=100063914262351",
    "map": "https://maps.app.goo.gl/UedyRKJsPQYnuknc9",
    "other": "入店需10歲",
    "tags": ["禁年齡"]
  },
  {
    "id": "Zhongshan",
    "station": "中山站",
    "title": "Double Like 雙倍喜歡",
    "time": "週五 ~ 週日：11:30 ~ 20:30 (週一~週四公休)",
    "address": '台北市大同區赤峰街47巷25號2樓',
    "tel": "(02)2552-7819",
    "fb": "https://www.facebook.com/doublelikecatcaffee/",
    "map": "https://maps.app.goo.gl/SSgLvABgRE1927JV9",
    "other": "店貓",
    "tags": ["店貓"]
  },

  {
    "id": "Zhongshan",
    "station": "中山站",
    "title": "1+1Together Republic",
    "time": "週一 ~ 週日：12:30 ~ 20:00(週二公休)",
    "address": "台北市中山北路二段26巷中山區No.10-1號2F",
    "tel": "(02)2568-1997",
    "fb": "https://www.facebook.com/1plus1.Together.Republic",
    "map": "https://maps.app.goo.gl/6mUGLZMBku4bYweY6",
    "other": "店貓、寵物友善",
    "tags": ["店貓", "寵物友善餐廳"]
  },
  {
    "id": "Zhongshan",
    "station": "中山站",
    "title": "貓妝自家烘焙咖啡屋",
    "time": "週日一~ 週五：11:30 ~ 21:30、週六:09:00 ~ 22:00、週日 :10:00~20:00",
    "address": "台北市大同區長安西路64號",
    "tel": "(02)2550-0561",
    "fb": "https://www.facebook.com/maskcatcafe.25500561/",
    "map": "https://maps.app.goo.gl/Zk1gYjSTpZQPPnXa9",
    "other": "店貓",
    "tags": ["店貓"]
  },
  {
    "id": "Zhongshan",
    "station": "中山站",
    "title": "貓妝自家烘焙咖啡屋",
    "time": "週日一~ 週五：11:30 ~ 21:30、週六:09:00 ~ 22:00、週日 :10:00~20:00",
    "address": "台北市大同區長安西路64號",
    "tel": "(02)2550-0561",
    "fb": "https://www.facebook.com/maskcatcafe.25500561/",
    "map": "https://maps.app.goo.gl/Zk1gYjSTpZQPPnXa9",
    "other": "店貓",
    "tags": ["店貓"]
  },
  {
    "id": "Zhongshan",
    "station": "中山站",
    "title": "碧耳貓 BeerCat 精釀啤酒",
    "time": "週一周二：20:00 ~ 00:00、週三週四週日：16:00 ~ 00:00、週五 ~ 週六：16:00 ~ 02:00",
    "address": "台北市中山區長安西路8號",
    "tel": "(02)2558-1518",
    "fb": "https://www.facebook.com/BeerCatTaipei/",
    "map": "https://maps.app.goo.gl/VcXL3fZZvquz8zLf8",
    "other": '店貓',
    "tags": ["店貓"]
  },
  {
    "id": "Zhongshan",
    "station": "中山站",
    "title": "2730貳柒參零咖啡",
    "time": "週一 ~ 週四：12:00 ~ 22:00 (週三公休)、週末：11:30 ~ 22:00",
    "address": "台北市大安區延吉街288號",
    "tel": "(02)2708-8230",
    "fb": "https://www.facebook.com/2730.cafe/",
    "map": "https://maps.app.goo.gl/tCyaDijYphFGkWES6",
    "other": "店貓",
    "tags": ["店貓"]
  },
  {
    "id":"Ximen",
   "station":"西門站",
   "title":"早初entry time",
   "time":"週一 ~ 週五：10:00 ~ 16:30 (週三公休)、週六、日：10:00 ~ 17:00",
   "address":"台北市萬華區成都路165號",
   "tel":"09-08811100",
   "fb":"https://www.facebook.com/XiaoChu.isFlying/",
   "instagram":"https://www.instagram.com/chu_entrytime/",
   "map":"https://maps.app.goo.gl/HxwBxmBDRihqvLtW7",
   "other":"店貓、明信片",
   "tags":["店貓"]
 },
  {
    "id":"Ximen",
   "station":"西門站",
   "title":"FUFUCatCafe",
   "time":"週一 ~ 週日：12:00 ~ 21:00",
   "address":"台北市萬華區武昌街二段53號3樓",
   "tel":"(02)2388-3722",
   "fb":"https://www.facebook.com/FUFUCatCafe/?_rdr",
   
   "map":"https://maps.app.goo.gl/akJH9FGBf48t3FZg7",
   "other":"品種貓、禁12歲以下",
   "tags":["品種貓","禁年齡"]
 },
 {
  "id": "Chian-Kai-Shek",
  "station": "中正紀念堂站",
  "title": "疍宅Egghost三元店",
  "time": "12:00~23:00 / 不定期公休",
  "address": "台北市中正區三元街176號1樓",
  "tel": "(02)2521-5361",
  "web": "https://www.egghost-dessert.com/index",
  "fb": "https://www.facebook.com/EggHostCafe/",
  "instagram": "https://www.instagram.com/egghost_dessert/",
  "map": "https://maps.app.goo.gl/qcVXTnmtNsr4jQmt7",
  "other": "店貓、寵物友善餐廳(限貓咪)",
  "tags": ["店貓", "寵物友善餐廳"]
},
  {
    "id": "Guting",
    "station": "古亭站",
    "title": "貓圖咖啡",
    "time": "週一 ~ 週五：8:30 ~ 17:00、週六日：8:00 ~ 17:00",
    "address": "台北市大安區潮州街154號",
    "tel": "(02)3365-2865",
    "fb": "https://www.facebook.com/cat.jpg.cafe",
    "map": "https://maps.app.goo.gl/WspBw213uz5b2cbQ6",
    "other": "店貓",
    "tags": ["店貓"]
  },
  {
    "id": "Guting",
    "station": "古亭站",
    "title": "UNI CAFE",
    "time": "週一 ~ 週日：12:00 ~ 21:00",
    "address": "台北市中正區金門街15號",
    "tel": "(02)2364-0577",
    "web": "http://www.unicafestudio.com/",
    "map": "https://maps.app.goo.gl/qnSmMzYqRqqXFvHs5",
    "other": "店貓",
    "tags": ["店貓"]
  },
  {
    "id": "Taipower-Building",
    "station": "台電大樓站",
    "title": "UNI CAFE",
    "time": "週一 ~ 週日：12:00 ~ 21:00",
    "address": "台北市中正區金門街15號",
    "tel": "(02)2364-0577",
    "web": "http://www.unicafestudio.com/",
    "map": "https://maps.app.goo.gl/qnSmMzYqRqqXFvHs5",
    "other": "店貓",
    "tags": ["店貓"]
  },
  {

    "id": "Taipower-Building",
    "station": "台電大樓站",
    "title": "Bistro O避世所",
    "time": "週二:17:00~01:00(周一公休)、週三~週五：17:00 ~ 00:00、週日、週六：15:00 ~ 00:00",
    "address": "台北市大安區師大路49巷3號2樓",
    "tel": "(02) 2363-7170",
    "fb": "https://www.facebook.com/bistroO",
    "map": "https://maps.app.goo.gl/qEamsHdQv1qHRvS78",
    "other": "店貓",
    "tags": ["店貓"]
  },
  {

    "id": "Taipower-Building",
    "station": "台電大樓站",
    "title": "貓孩在極簡(極簡咖啡館)",
    "time": "週二 ~ 週日：12:00 ~ 21:00 (週一公休)",
    "address": "台北市大安區泰順街2巷42號",
    "tel": "(02)2362-9734",
    "fb": "https://www.facebook.com/profile.php?id=100061089434772",
    "map": "https://maps.app.goo.gl/nd6mVcXyaAdBXRAb8",
    "other": "很多貓",
    "tags": ["很多貓"]
  },
  {

    "id": "Gongguan",
    "station": "公館站",
    "title": "貓食光",
    "time": "週三 ~ 週日：12:00 ~ 20:00 (週一周二公休)週日:12:00~19:30",
    "address": "台北市大安區羅斯福路三段297-1號1樓",
    "tel": "(02)2366-0234",
    "fb": "https://www.facebook.com/profile.php?id=100063830744637",
    "map": "https://maps.app.goo.gl/1RpNYyc5doPD9tcx8",
    "other": "中途、禁12歲以下",
    "tags": ["中途", "禁年齡"]
  },

];
// 1. 綁定綠線標籤點擊事件
document.querySelectorAll(".green-tag").forEach(tag => {
  tag.addEventListener("click", greenTagHandler); // 綁定特定處理器
});

// 2. 綁定綠線地圖點擊事件
document.querySelectorAll(".green-point").forEach(point => {
  point.addEventListener("click", greenPointHandler); // 綁定特定處理器
});

// 3. 顯示綠線資訊的函數
function displayGreenInfos(infos) {

  const infoContent = document.getElementById("tab6_content");

  if (infos.length > 0) {
    infoContent.innerHTML = ""; // 清空之前的內容
    infos.forEach(info => {
      const icons = `
        <div class="icon">
          ${info.web ? `<a href="${info.web}" target="_blank"><img src="./img/web.png" alt="網站"></a>` : ""}
          ${info.fb ? `<a href="${info.fb}" target="_blank"><img src="./img/facebook.png" alt="fb"></a>` : ""}
          ${info.instagram ? `<a href="${info.instagram}" target="_blank"><img src="./img/instagram (1).png" alt="instagram"></a>` : ""}
          ${info.tiktok ? `<a href="${info.tiktok}" target="_blank"><img src="./img/social-media (2).png" alt="tiktok"></a>` : ""}
          ${info.map ? `<a href="${info.map}" target="_blank"><img src="./img/pin.png" alt="map"></a>` : ""}
        </div>
      `;
      infoContent.innerHTML += `
        <div class="info-item">
          <h3>${info.title} (${info.station})</h3>
          <hr class="title-hr">
          <p><strong>營業時間：</strong>${info.time}</p>
          <p><strong>地址：</strong>${info.address}</p>
          <p><strong>電話：</strong>${info.tel}</p>
          <p><strong>其他：</strong>${info.other}</p>
          <p><strong>標籤：</strong>${info.tags.join(", ")}</p>
          ${icons}
        </div>
        <hr>
      `;
    });
    // infoBox.style.display = "block";
  } else {
    infoContent.innerHTML = "<p>沒有找到相關的地點。</p>";
    // infoBox.style.display = "block";
  }
}

// 4. 定義事件處理器
function greenTagHandler(e) {
  const selectedTag = e.target.dataset.tag;
  const filteredInfos = greenLineData.filter(item => item.tags.includes(selectedTag));
  displayGreenInfos(filteredInfos);
}

function greenPointHandler(e) {
  const id = e.target.dataset.id;
  const infos = greenLineData.filter(item => item.id === id);
  displayGreenInfos(infos);
}