const orangeLineData = [
  {
    "id": "FJU",
    "station": "輔大站",
    "title": "吃．貓",
    "time": "週一 ~ 週四：12:00 ~ 19:00、週五 ~ 週日：12:00 ~ 21:30",
    "address": "新北市新莊區中正路514巷43號2樓",
    "tel": "(02)8209-6218",
    "fb": "https://www.facebook.com/love.eatcat/",

    "map": "https://maps.app.goo.gl/JbosQAdfKmBUGsKe9",
    "other": "領養",
    "tags": ["可領養"]
  },
  {
    "id": "Daqiaotou",
    "station": "大橋頭站",
    "title": "兜味咖啡doorway cafe",
    "time": "週一 ~ 週日：13:30 ~ 19:00 (週三週四公休)",
    "address": "台北市大同區安西街36號",
    "tel": "(02)2557-3169",
    "fb": "https://www.facebook.com/2013doorwaycafe",

    "map": "https://maps.app.goo.gl/1i3AD88FTNkjxCGL6",
    "other": "寵物友善餐廳",
    "tags": ["寵物友善餐廳"]
  },
  {
    "id": "ZES",
    "station": "中山國小站",
    "title": "珈琲部 Coffee & Co",
    "time": "週二 ~ 週五：12:00 ~ 00:00、六、日:12:00~19:00(營業時間可能有誤，看粉專)",
    "address": "台北市中山區新生北路二段137巷42號1樓",
    "tel": "(02)25410069",
    "web": "https://www.coffeeandco.com.tw/",
    "fb": "https://www.facebook.com/coffeeandco.tw",
    "instagram": "https://www.instagram.com/coffee_co_tw/",

    "map": "https://maps.app.goo.gl/yc3q1Lg4FWoL8Ums8",
    "other": "很多貓",
    "tags": ["很多貓"]
  },
  {
    "id": "Xingtian-Temple",
    "station": "行天宮站",
    "title": "Belinda Coffee",
    "time": "週一 ~ 週日：12:30 ~ 22:00",
    "address": "台北市中山區松江路330巷14號1樓",
    "tel": "(02)2542-6266",
    "fb": "https://www.facebook.com/belinda.coffe/",
    "map": "https://maps.app.goo.gl/48iGKUtyCHaP93SDA",
    "other": "店貓",
    "tags": ["店貓"]
  },


  {
    "id": "Dongmen",
    "station": "東門站",
    "title": "小食糖",
    "time": "週一 ~ 週日：10:00 ~ 18:30",
    "address": "台北市中正區信義路二段181巷3號",
    "tel": "(02)2396-5965",
    "web": "https://www.sugarbistro.tw/",
    "fb": "https://www.facebook.com/SUGARbISTRO/?locale=zh_TW",
    "instagram": "https://www.instagram.com/sugarbistro.tw/",
    "map": "https://maps.app.goo.gl/9cR7ePUsShP8Ze9a6",
    "other": "店貓",
    "tags": ["店貓"]
  },
  {
    "id": "Dongmen",
    "station": "東門站",
    "title": "框影咖啡-永康店",
    "time": "週一 ~ 週日：12:00 ~ 20:30",
    "address": "台北市大安區麗水街2-1號",
    "tel": "(02) 3322-1020",
    "instagram": "https://www.instagram.com/thewhocafe/#",
    "map": "https://maps.app.goo.gl/WyT5CEbmb7yEtrQr9",
    "other": "很多貓",
    "tags": ["很多貓"]

  },
  {
    "id": "Dongmen",
    "station": "東門站",
    "title": "鴉埠YABOO",
    "time": "週一 ~ 週五：12:00 ~ 00:00、週六日：11:00 ~ 00:00",
    "address": "台北市大安區永康街41巷26號",
    "tel": "(02) 2391-2868",
    "fb": "https://www.facebook.com/yaboo.lalala",
    "map": "https://maps.app.goo.gl/i7QZHGnLCqHRx9nq7",
    "other": "店貓",
    "tags": ["店貓"]
  },
  {
    "id": "Dongmen",
    "station": "東門站",
    "title": "鴉埠咖啡 YABOO II 貳號店",
    "time": "周一到周日:14:00~22:00(周四公休)",
    "address": "台北市大安區麗水街9巷10-1號一樓",
    "tel": "(02)23560999",
    "fb": "https://www.facebook.com/YABOOII",
    "map": "https://maps.app.goo.gl/ENfBX4xAwoCF9KE37",
    "other": "店貓",
    "tags": ["店貓"]
  },

  {
    "id": "Guting",
    "station": "古亭",
    "title": "疍宅Egghost三元店",
    "time": "12:00~23:00 / 不定期公休",
    "address": "台北市中正區三元街176號1樓",
    "tel": "(02)2521-5361",
    "web": "https://www.egghost-dessert.com/index",
    "fb": "https://www.facebook.com/EggHostCafe/",
    "instagram": "https://www.instagram.com/egghost_dessert/",
    "map": "https://maps.app.goo.gl/qcVXTnmtNsr4jQmt7",
    "other": "店貓、寵物友善餐廳(限貓咪)",
    "tags": ["店貓","寵物友善餐廳"]
  },
  {
    "id": "Guting",
    "station": "古亭",
    "title": "行路 Walk Café",
    "time": "周一~周日 14:00~23:00、週二~周六10:00~23:00",
    "address": "台北市大安區和平東路一段104巷6號1樓",
    "tel": "(02)23642742",
    "fb": "https://www.facebook.com/walkcafeTW",
    "map": "https://maps.app.goo.gl/NsVd1ZLqYcw9Se9h9",
    "other": "店貓",
    "tags": ["店貓"]
  },
  {
    "id": "Yongan-Market",
    "station": "永安市場站",
    "title": "自由溫室",
    "time": "週一 ~ 週日：11:00 ~ 00:00",
    "address": "新北市永和區水源街21巷2號",
    "tel": "(02) 2926-5505",
    "instagram": "https://www.instagram.com/liberbox_coffee/?hl=zh-tw",
    "fb": "https://www.facebook.com/liberboxcoffee/",
    "map": "https://maps.app.goo.gl/JBo5bMU2hNt4j6Vg8",
    "other": "店貓",
    "tags": ["店貓"]
  },
  {
    "id": "Nanshijiao",
    "station": "南勢角站",
    "title": "南參陸咖啡",
    "time": "週一 ~ 週日：13:00 ~ 18:30(週四公休)",
    "address": "新北市中和區和平街36號1樓",
    "tel": "(02)8668-2296",
    "map": "https://maps.app.goo.gl/HC1cLpyLLecvUSAQ6",
    "other": "店貓",
    "tags": ["店貓"]
  },
];
document.querySelectorAll(".orange-tag").forEach(tag => {
  tag.addEventListener("click", orangeTagHandler); // 綁定特定處理器
});

// 2. 綁定地圖點擊事件
document.querySelectorAll(".orange-point").forEach(point => {
  point.addEventListener("click",orangePointHandler); // 綁定特定處理器
});

// 3. 顯示資訊的函數
function displayOrangeInfos(infos) {
  
  const infoContent = document.getElementById("tab3_content");

  if (infos.length > 0) {
    infoContent.innerHTML = ""; // 清空之前的內容
    infos.forEach(info => {
      const icons = `
        <div class="icon">
          ${info.web ? `<a href="${info.web}" target="_blank"><img src="./img/web.png" alt="網站"></a>` : ""}
          ${info.fb ? `<a href="${info.fb}" target="_blank"><img src="./img/facebook.png" alt="fb"></a>` : ""}
          ${info.instagram ? `<a href="${info.instagram}" target="_blank"><img src="./img/instagram (1).png" alt="instagram"></a>` : ""}
          ${info.tiktok ? `<a href="${info.tiktok}" target="_blank"><img src="./img/social-media (2).png" alt="tiktok"></a>` : ""}
          ${info.map ? `<a href="${info.map}" target="_blank"><img src="./img/pin.png" alt="map"></a>` : ""}
        </div>
      `;
      infoContent.innerHTML += `
        <div class="info-item">
          <h3>${info.title} (${info.station})</h3>
          <hr class="title-hr">
          <p><strong>營業時間：</strong>${info.time}</p>
          <p><strong>地址：</strong>${info.address}</p>
          <p><strong>電話：</strong>${info.tel}</p>
          <p><strong>其他：</strong>${info.other}</p>
          <p><strong>標籤：</strong>${info.tags.join(", ")}</p>
          ${icons}
        </div>
        <hr>
      `;
    });
    // infoBox.style.display = "block";
  } else {
    infoContent.innerHTML = "<p>沒有找到相關的地點。</p>";
    // infoBox.style.display = "block";
  }
}

// 4. 定義事件處理器
function orangeTagHandler(e) {
  const selectedTag = e.target.dataset.tag;
  const filteredInfos = orangeLineData.filter(item => item.tags.includes(selectedTag));
  displayOrangeInfos(filteredInfos);
}

function orangePointHandler(e) {
  const id = e.target.dataset.id;
  const infos = orangeLineData.filter(item => item.id === id);
  displayOrangeInfos(infos);
}
